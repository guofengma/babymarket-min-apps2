<!--orderDetail.wxml-->

<import src='/pages/my/cell/address-cell.wxml' />
<import src='/pages/my/myOrder/orderLineCell/orderline-cell.wxml' />
<import src='/pages/my/cell/delivery-info-cell.wxml' />

<view class="order-status-view">
  <text class="status-desp" wx:if="{{orderDatas.StatusKey =='0'}}">等待买家付款</text>
  <text class="status-desp" wx:if="{{orderDatas.StatusKey =='1'}}">买家已付款</text>
  <text class="status-desp" wx:if="{{orderDatas.StatusKey =='2'}}">卖家已发货</text>
  <image class="status-image" src="{{orderDatas.StatusKey =='1'?'/res/img/my/my-order-detail-waitdispatch.png':'/res/img/my/my-order-detail-waitreceive.png'}}"></image>
</view>

<!--物流信息-->
<view class="delivery-view" bindtap="deliveryTap" wx:if="{{orderDatas.StatusKey == '2'}}">
  <template is="delivery-info-cell" data="{{...deliveryInfo}}"></template>
  <view class="order-sepline"></view>
</view>

<!--地址-->
<view class="address-view">
  <template is="address-cell" data="{{...addressData}}"></template>
</view>

<!--商品列表-->
<view wx:for="{{orderLineList}}" class="orderlineView" wx:key="unique">
  <template is="orderline-cell" data="{{datas:item}}"></template>
  <view class="order-sepline"></view>
</view>

<!--订单总价-->
<view class="total-amount-view">
  <text>订单总价</text>
  <text>￥{{orderDatas.Total}}</text>
</view>

<!--订单编号，创建时间-->
<view class="order-info-view">
  <text>订单编号：{{orderDatas.SerialNumber}}</text>
  <text>创建时间：{{orderDatas.CreateTime}}</text>
</view>

<view class="bottom-view" wx:if="{{orderDatas.StatusKey != '1'}}">
  <view class="bottom-button right" bindtap="rightButtonTap" data-StatusKey="{{orderDatas.StatusKey}}">{{orderDatas.StatusKey == '0'?'付款':'查看物流'}}</view>
    <view class="bottom-button left" bindtap="leftButtonTap" data-StatusKey="{{orderDatas.StatusKey}}">{{orderDatas.StatusKey == '0'?'删除订单':'确认收货'}}</view>
</view>